<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="会计13-合同成本, Gustavo">
    <meta name="description" content="引言本章重点

合同成本概念
合同的摊销与减值
合同的会计处理

合同成本一、合同履约成本（一）确认原则企业为履行合同发生的成本，不属于其他章节规范范围（如：存货、固定资产、无形资产等）且同时满足下列条件的，应当作为合同履约成本确认为一项资">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="referrer" content="no-referrer"/>
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>会计13-合同成本 | Gustavo</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <style>
        body{
            background-image: url(https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg);
            background-repeat:no-repeat;
            background-size: 100% 100%;
            background-attachment:fixed;
        }
    </style>



    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Gustavo" type="application/atom+xml">
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Gustavo</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Gustavo</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/gustavo1841" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/gustavo1841" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/388.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">会计13-合同成本</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E4%BC%9A%E8%AE%A1/">
                                <span class="chip bg-color">会计</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E4%BC%9A%E8%AE%A1%E4%B8%8E%E8%B4%A2%E7%AE%A1/" class="post-category">
                                会计与财管
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2025-01-27
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2025-02-10
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    5.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    18 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        
        <!-- 代码块折行 -->
        <style type="text/css">
            code[class*="language-"], pre[class*="language-"] { white-space: pre-wrap !important; }
        </style>
        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>本章重点</p>
<ul>
<li>合同成本概念</li>
<li>合同的摊销与减值</li>
<li>合同的会计处理</li>
</ul>
<h1 id="合同成本"><a href="#合同成本" class="headerlink" title="合同成本"></a>合同成本</h1><h2 id="一、合同履约成本"><a href="#一、合同履约成本" class="headerlink" title="一、合同履约成本"></a>一、合同履约成本</h2><h3 id="（一）确认原则"><a href="#（一）确认原则" class="headerlink" title="（一）确认原则"></a>（一）确认原则</h3><p>企业为履行合同发生的成本，不属于其他章节规范范围（如：存货、固定资产、无形资产等）且同时满足下列条件的，应当作为合同履约成本确认为一项资产：</p>
<p>1.该成本与一份当前或预期取得的合同直接相关。</p>
<p>与合同直接相关的成本包括直接人工、直接材料、制造费用或类似费用、明确由客户承担的成本（理由：体现在合同价款中）以及仅因该合同而发生的其他成本。</p>
<p>2.该成本增加了企业未来用于履行（或持续履行）履约义务的资源。</p>
<p>3.该成本预期能够收回。</p>
<h3 id="（二）财务报表的列示要求"><a href="#（二）财务报表的列示要求" class="headerlink" title="（二）财务报表的列示要求"></a>（二）财务报表的列示要求</h3><p>满足上述条件确认为资产的合同履约成本：</p>
<p>1.初始确认时摊销期限不超过一年或一个正常营业周期的，在资产负债表中列示为存货；</p>
<p>2.初始确认时摊销期限在一年或一个正常营业周期以上的，在资产负债表中列示为其他非流动资产。</p>
<h3 id="（三）企业应当在下列支出发生时，将其计入当期损益（不属于合同履约成本）："><a href="#（三）企业应当在下列支出发生时，将其计入当期损益（不属于合同履约成本）：" class="headerlink" title="（三）企业应当在下列支出发生时，将其计入当期损益（不属于合同履约成本）："></a>（三）企业应当在下列支出发生时，将其计入当期损益（不属于合同履约成本）：</h3><p>1.管理费用，除非这些费用明确由客户承担。</p>
<p>2.非正常消耗的直接材料、直接人工和制造费用（或类似费用），这些支出为履行合同发生，但未反映在合同价格中。</p>
<p>3.与履约义务中已履行(包括已全部履行或部分履行)部分相关的支出，即该支出与企业过去的履约活动相关。</p>
<p>4.无法在尚未履行的与已履行(或已部分履行)的履约义务之间区分的相关支出。</p>
<p>提示</p>
<p>对于企业在一段时间内履行的履约义务，在采用产出法计量履约进度时，如果企业为履行该履约义务实际发生的成本超过了按照产出法确定的成本，这些成本是与过去已履行的履约情况相关的支出，因此，不会增加企业未来用于履行（包括持续履行）履约义务的资源，不应当作为资产确认。</p>
<h2 id="二、合同取得成本"><a href="#二、合同取得成本" class="headerlink" title="二、合同取得成本"></a>二、合同取得成本</h2><p>1.企业为取得合同（）发生的增量成本预期能够收回的，应当作为合同取得成本确认为一项资产。</p>
<p>其中：增量成本：是指企业不取得合同就不会发生的成本，如：销售佣金等。</p>
<p>2.财务报表的列示要求</p>
<p>满足上述条件确认为资产的合同取得成本：</p>
<p>（1）初始确认时摊销期限不超过一年或一个正常营业周期的，在资产负债表中列示为其他流动资产；</p>
<p>（2）初始确认时摊销期限在一年或一个正常营业周期以上的，在资产负债表中列示为其他非流动资产。</p>
<p>3.为简化实务操作，该资产摊销期限不超过一年的，可以在发生时计入当期损益。</p>
<p>4.企业为取得合同发生的、除预期能够收回的增量成本之外的其他支出。如：无论是否取得合同均会发生的差旅费，投标费、为准备投标资料发生的相关费用等，应当在发生时计入当期损益，除非这些支出明确由客户承担。</p>
<p>提示</p>
<p>企业因现有合同续约或发生合同变更需要支付的额外佣金，也属于为取得合同发生的增量成本。</p>
<h2 id="三、合同履约成本和合同取得成本的摊销和减值"><a href="#三、合同履约成本和合同取得成本的摊销和减值" class="headerlink" title="三、合同履约成本和合同取得成本的摊销和减值"></a>三、合同履约成本和合同取得成本的摊销和减值</h2><h3 id="（一）摊销"><a href="#（一）摊销" class="headerlink" title="（一）摊销"></a>（一）摊销</h3><p>确认为资产的合同履约成本和合同取得成本，应当采用与该资产相关的商品收入确认相同的基础（即，在履约义务履行的时点或按照履约义务的履约进度）进行摊销，计入当期损益。</p>
<h3 id="（二）减值"><a href="#（二）减值" class="headerlink" title="（二）减值"></a>（二）减值</h3><p>1.计提减值准备</p>
<p>合同履约成本和合同取得成本的账面价值高于下列两项的差额的，应按超出部分的金额计提减值准备，并确认为资产减值损失：（联想：存货的可变现净值）</p>
<p>（1）企业因转让与该资产相关的商品预期能够取得的剩余对价；（类似：估计的售价）</p>
<p>（2）为转让该相关商品估计将要发生的成本。（类似：估计的相关税费）</p>
<p>2.减值的转回</p>
<p>以前期间减值的因素之后发生变化，使得前述（1）减（2）的差额高于该资产账面价值的，应当转回原已计提的资产减值准备，并计入当期损益，但转回后的资产账面价值不应超过假定不计提减值准备情况下该资产在转回日的账面价值。</p>
<p>3.计提减值顺序的规定</p>
<p>在确定合同履约成本和合同取得成本的减值损失时，企业应当：</p>
<p>（1）确定其他资产减值损失；（如：固定资产、无形资产等）</p>
<p>（2）按照本节的要求确定合同履约成本和合同取得成本的减值损失。</p>
<p>企业按照《企业会计准则第8号——资产减值》测试相关资产组的减值情况时，应当将按照上述规定确定上述资产减值后的新账面价值计入相关资产组的账面价值。</p>
<h1 id="关于特定交易的会计处理"><a href="#关于特定交易的会计处理" class="headerlink" title="关于特定交易的会计处理"></a>关于特定交易的会计处理</h1><h2 id="一、附有销售退回条款的销售"><a href="#一、附有销售退回条款的销售" class="headerlink" title="一、附有销售退回条款的销售"></a>一、附有销售退回条款的销售</h2><p>对于附有销售退回条款的销售，企业应当在客户取得相关商品控制权时：</p>
<p>1.按照因向客户转让商品而预期有权收取的对价金额（即，不包含预期因销售退回将退还的金额）确认收入；（预计不会退货的部分）</p>
<p>​	按照预期因销售退回将退还的金额确认负债</p>
<p>2.按预期将退回商品转让时的账面价值，扣除收回该商品预计发生的成本（包括退回商品的价值减损）后的余额，确认为一项资产（应收退货成本），按照所转让商品转让时的账面价值，扣除上述资产成本的净额结转成本。</p>
<blockquote>
<p>上述“收回该商品预计发生的成本（包括退回商品的价值减损）”将直接体现在“主营业务成本”中。</p>
</blockquote>
<p>3.每一资产负债表日，企业应当重新估计未来销售退回情况，如有变化，应当作为会计估计变更进行会计处理。</p>
<h2 id="二、附有质量保证条款的销售"><a href="#二、附有质量保证条款的销售" class="headerlink" title="二、附有质量保证条款的销售"></a>二、附有质量保证条款的销售</h2><table>
<thead>
<tr>
<th>分类</th>
<th>保证类质量保证</th>
<th>为了向客户保证所销售的商品符合既定标准；</th>
</tr>
</thead>
<tbody><tr>
<td>服务类质量保证</td>
<td>在向客户保证所销售的商品符合既定标准之外提供了一项单独的服务。</td>
<td></td>
</tr>
<tr>
<td>判断标准</td>
<td>1.对于客户能够选择单独购买质量保证的，表明该质量保证构成单项履约义务；2.对于客户虽然不能选择单独购买质量保证，但是，如果该质量保证在向客户保证所销售的商品符合既定标准之外提供了一项单独服务的，也应当作为单项履约义务。</td>
<td></td>
</tr>
<tr>
<td>处理原则</td>
<td>作为单项履约义务</td>
<td>作为单项履约义务的质量保证应当按规定进行会计处理，并将部分交易价格分摊至该项履约义务。</td>
</tr>
<tr>
<td>不能作为单项履约义务</td>
<td>对于不能作为单项履约义务的质量保证，企业应当按照或有事项准则的规定进行会计处理。借：主营业务成本贷：预计负债</td>
<td></td>
</tr>
<tr>
<td>相关说明</td>
<td>1.企业提供的质量保证同时包含保证类质量保证和服务类质量保证的，应当分别对其进行会计处理；2.无法合理区分的，应当将这两类质量保证一起作为单项履约义务按照本准则进行会计处理。</td>
<td></td>
</tr>
</tbody></table>
<h2 id="三、主要责任人和代理人（收入：总额法？净额法？）"><a href="#三、主要责任人和代理人（收入：总额法？净额法？）" class="headerlink" title="三、主要责任人和代理人（收入：总额法？净额法？）"></a>三、主要责任人和代理人（收入：总额法？净额法？）</h2><h3 id="（一）总原则"><a href="#（一）总原则" class="headerlink" title="（一）总原则"></a>（一）总原则</h3><table>
<thead>
<tr>
<th></th>
<th>判断标准</th>
<th>收入的确认原则</th>
</tr>
</thead>
<tbody><tr>
<td>主要责任人</td>
<td>企业在向客户转让商品前能够控制该商品</td>
<td>应当按照有权收取的对价总额确认收入</td>
</tr>
<tr>
<td>代理人</td>
<td>企业在向客户转让商品前不能控制该商品</td>
<td>应当按照预期有权收取的佣金或手续费的金额确认收入（应当按照已收或应收对价总额扣除应支付给其他相关方的价款后的净额，或者按照既定的佣金金额或比例等确定）</td>
</tr>
</tbody></table>
<h3 id="（二）企业作为主要责任人的情况"><a href="#（二）企业作为主要责任人的情况" class="headerlink" title="（二）企业作为主要责任人的情况"></a>（二）企业作为主要责任人的情况</h3><p>当存在第三方参与企业向客户提供商品时，企业向客户转让特定商品之前能够控制该商品，从而应当作为主要责任人的情形包括：（3种情形）</p>
<p>1.企业自该第三方取得商品或其他资产控制权后，再转让给客户；</p>
<p>2.企业能够主导该第三方代表本企业向客户提供服务，说明企业在相关服务提供给客户之前能够控制该相关服务；</p>
<p>3.企业自该第三方取得商品控制权后，通过提供重大的服务将该商品与其他商品整合成合同约定的某组合产出转让给客户。此时，企业承诺提供的特定商品就是合同约定的组合产出，企业只有获得为生产该特定产品所需要的投入的控制权，然后才能够将这些投入加工整合为合同约定的组合产出。</p>
<p>（三）需要考虑的相关事实和情况</p>
<p>企业在判断其在向客户转让特定商品之前是否已经拥有对该商品的控制权时，不应仅局限于合同的法律形式，而应当综合考虑所有相关事实和情况进行判断，这些事实和情况包括（4个方面）：</p>
<p>1.企业承担向客户转让商品的主要责任。（谁对质量或性能负责、谁提供售后服务、谁解决客户投诉）</p>
<p>2.企业在转让商品之前或之后承担了该商品的存货风险。</p>
<p>3.企业有权自主决定所交易商品的价格。</p>
<p>4.其他相关事实和情况。</p>
<h2 id="四、附有客户额外购买选择权的销售"><a href="#四、附有客户额外购买选择权的销售" class="headerlink" title="四、附有客户额外购买选择权的销售"></a>四、附有客户额外购买选择权的销售</h2><h3 id="（一）概述"><a href="#（一）概述" class="headerlink" title="（一）概述"></a>（一）概述</h3><table>
<thead>
<tr>
<th>表现形式</th>
<th>销售激励、客户奖励积分、未来购买商品的折扣券、合同续约选择权等</th>
</tr>
</thead>
<tbody><tr>
<td>处理原则</td>
<td>对于附有客户额外购买选择权的销售，企业应当评估该选择权是否向客户提供了一项重大权利。</td>
</tr>
</tbody></table>
<h3 id="（二）判断标准（两种情形）"><a href="#（二）判断标准（两种情形）" class="headerlink" title="（二）判断标准（两种情形）"></a>（二）判断标准（两种情形）</h3><table>
<thead>
<tr>
<th>提供重大权利</th>
<th>如果客户只有在订立了一项合同的前提下才取得了额外购买选择权，并且客户行使该选择权购买额外商品时，能够享受到超过该地区或该市场中其他同类客户所能够享有的折扣，则通常认为该选择权向客户提供了一项重大权利。</th>
</tr>
</thead>
<tbody><tr>
<td>未提供重大权利</td>
<td>当企业向客户提供了额外购买选择权，但客户在行使该选择权购买商品的价格反映了该商品的单独售价时，即使客户只能通过与企业订立特定合同才能获得该选择权，该选择权也不应被视为企业向该客户提供了一项重大权利（如：电信公司买手机送话费，收套餐费外，可以额外购买流量和语音服务，如果额外购买的价格与其他客户购买的价格相同）。</td>
</tr>
</tbody></table>
<h3 id="（三）收入的确认原则"><a href="#（三）收入的确认原则" class="headerlink" title="（三）收入的确认原则"></a>（三）收入的确认原则</h3><table>
<thead>
<tr>
<th>确认原则</th>
<th>企业提供重大权利的，应当作为单项履约义务，按照本章有关交易价格分摊的要求将交易价格分摊至该履约义务；</th>
</tr>
</thead>
<tbody><tr>
<td>确认时点</td>
<td>在①客户未来行使购买选择权取得相关商品控制权时，或者②该选择权失效时，确认相应的收入。</td>
</tr>
</tbody></table>
<h2 id="五、授予知识产权许可"><a href="#五、授予知识产权许可" class="headerlink" title="五、授予知识产权许可"></a>五、授予知识产权许可</h2><h3 id="（一）概述-1"><a href="#（一）概述-1" class="headerlink" title="（一）概述"></a>（一）概述</h3><table>
<thead>
<tr>
<th>含义</th>
<th>授予知识产权许可：是指企业授予客户对企业拥有的知识产权享有相应权利。</th>
</tr>
</thead>
<tbody><tr>
<td>形式</td>
<td>常见的知识产权包括软件和技术、影视和音乐等的版权、特许经营权以及专利权、商标权和其他版权等。</td>
</tr>
<tr>
<td>基本原则</td>
<td>企业向客户授予知识产权许可的，应当评估该知识产权许可是否构成单项履约义务。【即：是否与所售商品明确分开】</td>
</tr>
</tbody></table>
<h3 id="（二）具体处理原则"><a href="#（二）具体处理原则" class="headerlink" title="（二）具体处理原则"></a>（二）具体处理原则</h3><p>1.不构成单项履约义务</p>
<table>
<thead>
<tr>
<th>情形</th>
<th>（1）该知识产权许可构成有形商品的组成部分并且对于该商品的正常使用不可或缺（如：企业向客户销售设备和相关软件）（2）客户只有将该知识产权许可和相关服务一起使用才能够从中获益（如：客户取得授权许可，但是只有通过企业提供的在线服务才能访问相关内容）</th>
</tr>
</thead>
<tbody><tr>
<td>处理原则</td>
<td>企业应当将该知识产权许可和其他商品一起作为一项履约义务进行会计处理</td>
</tr>
</tbody></table>
<p>2.构成单项履约义务（2种情形）</p>
<table>
<thead>
<tr>
<th>某一时段内履行</th>
<th>某一时点履行</th>
</tr>
</thead>
<tbody><tr>
<td>同时满足下列条件时，应当作为在某一时段内履行的履约义务确认相关收入（如：提供法规库查询服务）；（1）合同要求或客户能够合理预期企业将从事对该项知识产权有重大影响的活动。（2）该活动对客户将产生有利或不利影响。（3）该活动不会导致向客户转让商品。</td>
<td>否则，应当作为在某一时点履行的履约义务确认相关收入：如：唱片公司将某经典民歌授权某公司使用2年，每月收取固定对价。处理原则：在客户能够使用某项知识产权许可并开始从中获益之前，企业不能对此类知识产权许可确认收入（授权使用某软件，提供密钥前不确认收入）。</td>
</tr>
</tbody></table>
<p>3.基于销售或使用情况的特许权使用费</p>
<p>企业向客户授予知识产权许可，并约定按客户实际销售或使用情况收取特许权使用费的，应当在下列两项孰晚的时点确认收入：（估计可变对价的例外规定）</p>
<p>（1）客户后续销售或使用行为实际发生；</p>
<p>（2）企业履行相关履约义务。</p>
<h2 id="六、售后回购"><a href="#六、售后回购" class="headerlink" title="六、售后回购"></a>六、售后回购</h2><h3 id="（一）含义和主要形式"><a href="#（一）含义和主要形式" class="headerlink" title="（一）含义和主要形式"></a>（一）含义和主要形式</h3><table>
<thead>
<tr>
<th>含义</th>
<th>售后回购：是指企业销售商品的同时承诺或有权选择日后再将该商品（包括相同或几乎相同的商品，或以该商品作为组成部分的商品)购回的销售方式。</th>
</tr>
</thead>
<tbody><tr>
<td>主要形式</td>
<td>售后回购的主要形式（三种形式）1.企业和客户约定企业有义务回购该商品，即存在远期安排。2.企业有权利回购该商品，即企业拥有回购选择权。3.当客户要求时，企业有义务回购该商品，即客户拥有回售选择权。（处理方式特殊）</td>
</tr>
</tbody></table>
<h3 id="（二）企业的会计处理原则"><a href="#（二）企业的会计处理原则" class="headerlink" title="（二）企业的会计处理原则"></a>（二）企业的会计处理原则</h3><table>
<thead>
<tr>
<th>情况</th>
<th>种类</th>
<th>具体处理原则</th>
</tr>
</thead>
<tbody><tr>
<td>1.企业因存在①与客户的远期安排而负有回购义务或②企业享有回购权利的【企业（）承诺回购或有权回购】</td>
<td>特点：在销售时点，客户并没有取得该商品的控制权</td>
<td></td>
</tr>
<tr>
<td>回购价格＜原售价</td>
<td>租赁交易</td>
<td></td>
</tr>
<tr>
<td>如：甲公司销售产品给乙公司（实物转移给乙公司），售价600万元，回购价格350万元，2年后回购，差额250万元视为乙公司支付租金，租赁期2年，350万元视为保证金</td>
<td></td>
<td></td>
</tr>
<tr>
<td>回购价格≥原售价</td>
<td>融资交易</td>
<td></td>
</tr>
<tr>
<td>在收到客户款项时确认金融负债（如：其他应付款、长期应付款等），并将该款项和回购价格的差额在回购期间内确认为利息费用（如：财务费用）等；（本质：借款、不终止确认相关资产）【提示】企业到期未行使回购权利的，应当在该回购权利到期时终止确认金融负债，同时确认收入</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2.企业负有应客户要求回购商品义务的</td>
<td>（1）要求：应当在合同开始日评估客户是否具有行使该要求权的重大经济动因。（2）判断条件：回购价格明显高于该资产回购时的市场价格，则通常表明客户有行权的重大经济动因（客户能否占到便宜？）</td>
<td></td>
</tr>
<tr>
<td>客户具有行使该要求权重大经济动因</td>
<td>作为租赁交易或融资交易，按照上述第1种情形进行会计处理</td>
<td></td>
</tr>
<tr>
<td>客户不具有行使该要求权重大经济动因的</td>
<td>作为附有销售退回条款的销售交易进行会计处理</td>
<td></td>
</tr>
</tbody></table>
<h2 id="七、客户未行使的权利"><a href="#七、客户未行使的权利" class="headerlink" title="七、客户未行使的权利"></a>七、客户未行使的权利</h2><p>1.企业向客户预收销售商品款项的，应当首先将该款项确认为合同负债，待履行了相关履约义务时再转为收入（储值卡）。</p>
<table>
<thead>
<tr>
<th>阶段</th>
<th>会计分录</th>
</tr>
</thead>
<tbody><tr>
<td>预收款时</td>
<td>借：银行存款贷：合同负债</td>
</tr>
<tr>
<td>履行相关履约义务时（客户消费时）</td>
<td>借：合同负债贷：主营业务收入</td>
</tr>
</tbody></table>
<p>2.当企业预收款项无须退回，但是客户可能会放弃其全部或部分合同权利时（如：放弃储值卡的使用等），企业预期将有权获得与客户所放弃的合同权利相关的金额的，应当按照客户行使合同权利的模式按比例将上述金额确认为收入；否则，企业只有在客户要求其履行剩余履约义务的可能性极低时，才能将上述负债的相关余额转为收入。</p>
<h2 id="八、无需退回的初始费"><a href="#八、无需退回的初始费" class="headerlink" title="八、无需退回的初始费"></a>八、无需退回的初始费</h2><h3 id="（一）概述-2"><a href="#（一）概述-2" class="headerlink" title="（一）概述"></a>（一）概述</h3><p>企业在合同开始日（或临近合同开始日）向客户收取的无需退回的初始费(如：俱乐部的入会费、接驳费、初装费等)应当计入交易价格（实质：确定收入的确认时点）。</p>
<h3 id="（二）账务处理原则"><a href="#（二）账务处理原则" class="headerlink" title="（二）账务处理原则"></a>（二）账务处理原则</h3><p>1.基本步骤</p>
<p>（1）应当评估该初始费是否与向客户转让已承诺的商品相关；</p>
<p>（2）若相关，判断转让已承诺的商品是否构成单项履约义务。</p>
<p>2.具体原则</p>
<table>
<thead>
<tr>
<th>与向客户转让已承诺的商品相关</th>
<th>转让该商品构成单项履约义务</th>
<th>企业应当在转让该商品时，按照分摊至该商品的交易价格确认收入</th>
</tr>
</thead>
<tbody><tr>
<td>转让该商品不构成单项履约义务</td>
<td>企业应当在包含该商品的单项履约义务履行时，按照分摊至该单项履约义务的交易价格确认收入</td>
<td></td>
</tr>
<tr>
<td>与向客户转让已承诺的商品不相关</td>
<td>该初始费应当作为未来将转让商品的预收款，在未来转让该商品时确认为收入</td>
<td></td>
</tr>
</tbody></table>
<h3 id="（三）相关说明"><a href="#（三）相关说明" class="headerlink" title="（三）相关说明"></a>（三）相关说明</h3><p>1.在合同开始（或临近合同开始）日，企业通常必须开展一些初始活动，为履行合同进行准备，如一些行政管理性质的准备工作，这些活动虽然与履行合同有关，但并没有向客户转让已承诺的商品，因此，不构成单项履约义务，即使企业向客户收取的无须退还的初始费与这些初始活动有关（例如，企业为了补偿开展这些活动所发生的成本而向客户收取初始费），也不应在这些活动完成时将该初始费确认为收入，而是应当将该初始费作为未来将转让商品的预收款，在未来转让该商品时确认为收入。</p>
<p>2.企业为履行合同开展初始活动，但这些活动本身并没有向客户转让已承诺的商品的，企业为开展这些活动所发生的支出，应当按照合同履约成本的相关规定确认为一项资产或计入当期损益，并且企业在确定履约进度时，也不应当考虑这些成本。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://gustavo1841.github.io" rel="external nofollow noreferrer">Gustavo</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://gustavo1841.github.io/2025/01/27/hui-ji-yu-cai-guan/hui-ji/hui-ji-13-he-tong-cheng-ben/">https://gustavo1841.github.io/2025/01/27/hui-ji-yu-cai-guan/hui-ji/hui-ji-13-he-tong-cheng-ben/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://gustavo1841.github.io" target="_blank">Gustavo</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E4%BC%9A%E8%AE%A1/">
                                    <span class="chip bg-color">会计</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'Ov23liq75W6OMBRsILFM',
        clientSecret: 'ed377d268bc9ef7ea8e847b6de012be660bd8e3e',
        repo: 'gustavo1841.github.io',
        owner: 'gustavo1841',
        admin: "gustavo1841",
        id: '2025-01-27T17-28-53',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2025/01/27/hui-ji-yu-cai-guan/hui-ji/hui-ji-14-zheng-fu-bu-zhu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/356.jpg" class="responsive-img" alt="会计14-政府补助">
                        
                        <span class="card-title">会计14-政府补助</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2025-01-27
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E4%BC%9A%E8%AE%A1%E4%B8%8E%E8%B4%A2%E7%AE%A1/" class="post-category">
                                    会计与财管
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E4%BC%9A%E8%AE%A1/">
                        <span class="chip bg-color">会计</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2025/01/27/hui-ji-yu-cai-guan/hui-ji/hui-ji-12-shou-ru/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/396.jpg" class="responsive-img" alt="会计12-收入">
                        
                        <span class="card-title">会计12-收入</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2025-01-27
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E4%BC%9A%E8%AE%A1%E4%B8%8E%E8%B4%A2%E7%AE%A1/" class="post-category">
                                    会计与财管
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E4%BC%9A%E8%AE%A1/">
                        <span class="chip bg-color">会计</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Gustavo<br />'
            + '文章作者: Gustavo<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1,h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2025</span>
            
            <a href="/about" target="_blank">Gustavo</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">1351.2k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2025";
                        var startMonth = "1";
                        var startDate = "13";
                        var startHour = "18";
                        var startMinute = "54";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/gustavo1841" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:huangwei0246@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1142488172" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1142488172" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    
        <!-- <script src='https://unpkg.com/mermaid@latest/dist/mermaid.min.js'></script> -->
        <script src='/libs/mermaid/mermaid.min.js'></script>
        <script>
          if (window.mermaid) {
            mermaid.initialize({theme: 'forest'});
          }
        </script>
    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
